(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{T7JD:function(e,t,n){"use strict";n.r(t);n("dBUF");var o=n("qu0K"),a=n.n(o),r=(n("bAY4"),n("4IMT")),i=n.n(r),l=(n("1mXb"),n("iJl9")),c=n.n(l),s=(n("q5v/"),n("QpBz")),u=n.n(s),p=n("q1tI"),f=n.n(p),h=n("vDqi"),b=n.n(h),m=n("eO8H"),y=n("UQ5x"),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var g=a.a.Item,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={token:""},n.login=n.login.bind(n),n.getToken=n.getToken.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.a.Component),k(t,[{key:"login",value:function(){var e=y.a.LOGIN,t=this.props,n=t.history,o=t.location,a=this;b.a.post(e,{accesstoken:a.state.token}).then(function(e){localStorage.setItem("userToken",a.state.token),localStorage.setItem("userInfo",JSON.stringify(e.data)),o.state?n.push(o.state.preUrl):n.push("/")}).catch(function(e){u.a.error(e.response.data.error_msg)})}},{key:"getToken",value:function(e){this.setState({token:e.target.value})}},{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement("h3",{className:"block-title mt20"},f.a.createElement(m.b,{to:"/"},"首页"),f.a.createElement("span",{className:"bread-split"},"/"),"登录"),f.a.createElement(a.a,{layout:"inline",className:"text-center",style:{marginTop:"50px"}},f.a.createElement(g,{required:!0,label:"Access Token"},f.a.createElement(c.a,{placeholder:"请输入你的Access Token",style:{width:"300px"},onChange:this.getToken,value:this.state.token})),f.a.createElement(g,null,f.a.createElement(i.a,{type:"primary",onClick:this.login},"登录"))))}}]),t}();t.default=d}}]);