(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{516:function(e,t,n){"use strict";n.r(t);n(505);var o=n(506),a=n.n(o),r=(n(209),n(210)),i=n.n(r),l=(n(128),n(507)),c=n.n(l),s=(n(208),n(125)),u=n.n(s),p=n(1),f=n.n(p),h=n(126),b=n.n(h),m=n(16),y=n(127),k=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var g=a.a.Item,d=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={token:""},t.login=t.login.bind(t),t.getToken=t.getToken.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,f.a.Component),k(n,[{key:"login",value:function(){var e=y.a.LOGIN,t=this.props,n=t.history,o=t.location,a=this;b.a.post(e,{accesstoken:a.state.token}).then(function(e){localStorage.setItem("userToken",a.state.token),localStorage.setItem("userInfo",JSON.stringify(e.data)),o.state?n.push(o.state.preUrl):n.push("/")}).catch(function(e){u.a.error(e.response.data.error_msg)})}},{key:"getToken",value:function(e){this.setState({token:e.target.value})}},{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement("h3",{className:"block-title mt20"},f.a.createElement(m.b,{to:"/"},"首页"),f.a.createElement("span",{className:"bread-split"},"/"),"登录"),f.a.createElement(a.a,{layout:"inline",className:"text-center",style:{marginTop:"50px"}},f.a.createElement(g,{required:!0,label:"Access Token"},f.a.createElement(c.a,{placeholder:"请输入你的Access Token",style:{width:"300px"},onChange:this.getToken,value:this.state.token})),f.a.createElement(g,null,f.a.createElement(i.a,{type:"primary",onClick:this.login},"登录"))))}}]),n}();t.default=d}}]);